<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoWatt: –†–∞—Å—á–µ—Ç —Å–µ—á–µ–Ω–∏—è –∫–∞–±–µ–ª—è</title>
    <link rel="stylesheet" href="cable-calc.css">
	<link rel="stylesheet" href="dashboard.css">
	<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    const tg = window.Telegram.WebApp;
    
    // –°–æ–æ–±—â–∞–µ–º —Ç–µ–ª–µ–≥—Ä–∞–º—É, —á—Ç–æ –º—ã –≥–æ—Ç–æ–≤—ã
    tg.ready();
    
    // –†–∞—Å—Ç—è–≥–∏–≤–∞–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω (–≤–∞–∂–Ω–æ –¥–ª—è –º–æ–±–∏–ª–æ–∫)
    tg.expand();

    // (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ü–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ñ–æ–Ω –ø–æ–¥ —Ç–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    // document.body.style.backgroundColor = tg.themeParams.bg_color || "#f0f2f5";
</script>
</head>
<body>
<a href="index.html" class="nav-home-btn">‚Üê –ú–µ–Ω—é</a>

    <div class="calculator-card">
        <h2>‚ö° –†–∞—Å—á–µ—Ç —Å–µ—á–µ–Ω–∏—è –∫–∞–±–µ–ª—è</h2>

        <div class="toggle-container">
            <button class="toggle-btn active" data-mode="watts">–í–∞—Ç—Ç—ã (P)</button>
            <button class="toggle-btn" data-mode="amps">–ê–º–ø–µ—Ä—ã (I)</button>
        </div>

        <div class="input-group">
            <label>–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã</label>
            <select id="sys_voltage">
                <option value="12">12 –í (DC)</option>
                <option value="24" selected>24 –í (DC)</option>
                <option value="48">48 –í (DC)</option>
                <option value="220">220 –í (AC)</option>
            </select>
        </div>

        <div class="input-group">
            <label id="label_power">–ú–æ—â–Ω–æ—Å—Ç—å –Ω–∞–≥—Ä—É–∑–∫–∏ [–í—Ç]</label>
            <input type="number" id="val_power" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 3000" inputmode="decimal">
        </div>

        <div class="input-group">
            <label>–î–ª–∏–Ω–∞ —Ç—Ä–∞—Å—Å—ã (–≤ –æ–¥–Ω—É —Å—Ç–æ—Ä–æ–Ω—É) <span class="hint">[–º]</span></label>
            <input type="number" id="val_dist" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 10" inputmode="decimal">
        </div>

        <div class="row" style="display: flex; gap: 15px;">
            <div class="input-group" style="flex: 1;">
                <label>–î–æ–ø. –ø–æ—Ç–µ—Ä–∏</label>
                <select id="val_loss">
                    <option value="1">1% (–°—Ä–æ–≥–æ)</option>
                    <option value="2" selected>2% (–ù–æ—Ä–º–∞)</option>
                    <option value="3">3% (–≠–∫–æ–Ω–æ–º)</option>
                </select>
            </div>
            <div class="input-group" style="flex: 1;">
                <label>–ú–∞—Ç–µ—Ä–∏–∞–ª</label>
                <select id="val_mat">
                    <option value="cu" selected>–ú–µ–¥—å</option>
                    <option value="al">–ê–ª—é–º–∏–Ω–∏–π</option>
                </select>
            </div>
        </div>

        <div class="results-section">
            <div class="main-result">
                <div class="res-title">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –∫–∞–±–µ–ª—å</div>
                <div id="out_cable" class="res-value">-- mm¬≤</div>
                <div id="out_criteria" class="res-sub">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ</div>
            </div>

            <div class="protection-block">
                <div class="prot-icon">üõ°</div>
                <div class="prot-text">
                    –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å / –∞–≤—Ç–æ–º–∞—Ç:<br>
                    <span id="out_fuse" class="prot-val">-- A</span>
                </div>
            </div>

            <div id="block_losses" class="losses-card" style="display: none;">
                <div class="loss-header">üî• –ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</div>
                <div class="loss-row">
                    <span>–¢–µ–ø–ª–æ–≤—ã–µ –ø–æ—Ç–µ—Ä–∏ –Ω–∞ –∫–∞–±–µ–ª–µ:</span>
                    <span id="out_loss_watts" class="loss-bad">0 –í—Ç</span>
                </div>
                <div class="loss-row">
                    <span id="out_loss_money" style="width: 100%;">--</span>
                </div>
            </div>
        </div>
    </div>

    <script src="cable-calc.js"></script>
	<script src="project-manager.js"></script>
</body>
</html>